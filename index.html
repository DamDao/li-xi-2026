<!doctype html>
<html lang="vi" class="h-full">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>L·ªôc Xu√¢n - G·ª≠i Trao Y√™u Th∆∞∆°ng</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="/_sdk/element_sdk.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
        href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&amp;family=Be+Vietnam+Pro:wght@300;400;500;600&amp;display=swap"
        rel="stylesheet" />

    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@600;700;900&display=swap"
        rel="stylesheet" />

    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;500;600;700&display=swap" rel="stylesheet">

    <link href="src/css/style.css" rel="stylesheet" />
    <link href="src/css/phao-hoa.css" rel="stylesheet" />

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        "tet-red": "#8B0000",
                        "tet-red-light": "#B22222",
                        "tet-gold": "#FFD700",
                        "tet-gold-dark": "#DAA520",
                        "tet-cream": "#FFF8DC",
                    },
                    fontFamily: {
                        heading: ["Playfair Display", "serif"],
                        body: ["Be Vietnam Pro", "sans-serif"],
                    },
                },
            },
        };
    </script>
    <style>
        /* Th√™m v√†o ph·∫ßn <head> */
        .font-dancing {
            font-family: 'Dancing Script', cursive;
        }
        
        /* Animation cho scratch overlay */
        .scratched {
            opacity: 0;
            transition: opacity 0.5s ease-out;
        }
        
        /* Animation cho money reveal */
        .money-reveal {
            animation: moneyPop 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }
        
        @keyframes moneyPop {
            0% {
                transform: scale(0);
                opacity: 0;
            }
            50% {
                transform: scale(1.2);
            }
            100% {
                transform: scale(1);
                opacity: 1;
            }
        }

        /* CSS cho COVER M·ªöI */
        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(5deg); }
        }

        @keyframes sparkle {
            0%, 100% { opacity: 0; transform: scale(0); }
            50% { opacity: 1; transform: scale(1); }
        }

        @keyframes pulse-glow {
            0%, 100% { box-shadow: 0 0 20px rgba(255, 215, 0, 0.4); }
            50% { box-shadow: 0 0 40px rgba(255, 215, 0, 0.8), 0 0 60px rgba(255, 215, 0, 0.4); }
        }

        @keyframes shimmer {
            0% { background-position: -200% center; }
            100% { background-position: 200% center; }
        }

        @keyframes lantern-sway {
            0%, 100% { transform: rotate(-5deg); }
            50% { transform: rotate(5deg); }
        }

        .outer-card-shadow {
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5), inset 0 1px 0 rgba(255, 215, 0, 0.3);
        }

        .inner-card-frame {
            border: 2px solid;
            border-image: linear-gradient(135deg, #ffd700, #b8860b, #ffd700, #daa520, #ffd700) 1;
            background: linear-gradient(180deg, rgba(139, 0, 0, 0.95) 0%, rgba(80, 0, 0, 0.98) 100%);
        }

        .text-shadow-gold {
            text-shadow: 0 1px 0 rgba(255, 255, 255, 0.3);
        }

        .text-shadow-dark {
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }

        .float-animation { animation: float 4s ease-in-out infinite; }
        .sparkle { animation: sparkle 2s ease-in-out infinite; }
        .pulse-glow { animation: pulse-glow 2s ease-in-out infinite; }

        .shimmer-text {
            background: linear-gradient(90deg, #ffd700, #fff8dc, #ffd700, #fff8dc, #ffd700);
            background-size: 200% auto;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: shimmer 3s linear infinite;
        }

        .lantern {
            animation: lantern-sway 3s ease-in-out infinite;
            transform-origin: top center;
        }

        /* .lantern-delay-1 { animation-delay: 0.3s; } */

        .decorative-corner {
            position: absolute;
            width: 80px;
            height: 80px;
            opacity: 0.8;
        }

        .corner-tl { top: 10px; left: 10px; }
        .corner-tr { top: 10px; right: 10px; transform: scaleX(-1); }
        .corner-bl { bottom: 10px; left: 10px; transform: scaleY(-1); }
        .corner-br { bottom: 10px; right: 10px; transform: scale(-1, -1); }

        .img-fallback {
            background: linear-gradient(135deg, #8B0000, #FFD700);
        }
    </style>

    <style>
        /* Canvas c√†o l√¨ x√¨ */
        #scratch-canvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            cursor: grab;
            border-radius: 0.5rem;
        }

        #scratch-canvas:active {
            cursor: grabbing;
        }

        #scratch-area {
            position: relative;
            user-select: none;
            -webkit-user-select: none;
        }
    </style>
    <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
</head>

<body class="h-full font-body">
    <div id="app-wrapper" class="h-full w-full overflow-auto bg-pattern relative">
        <!-- Decorative Elements -->
        <div class="absolute top-4 left-4 text-4xl lantern opacity-80">üèÆ</div>
        <div class="absolute top-4 right-4 text-4xl lantern opacity-80" style="animation-delay: -2s">
            üèÆ
        </div>
        <div class="absolute top-20 left-1/4 text-2xl floating opacity-60">
            üå∏
        </div>
        <div class="absolute top-32 right-1/4 text-xl floating opacity-50" style="animation-delay: -1s">
            ‚ú®
        </div>
        <div class="absolute bottom-20 left-16 text-3xl floating opacity-70" style="animation-delay: -3s">
            üéã
        </div>
        <div class="absolute bottom-32 right-20 text-2xl floating opacity-60" style="animation-delay: -2s">
            üå∫
        </div>
        <!-- Sparkle decorations -->
        <div class="absolute top-1/4 left-10 w-2 h-2 bg-tet-gold rounded-full sparkle"></div>
        <div class="absolute top-1/3 right-16 w-1.5 h-1.5 bg-tet-gold rounded-full sparkle"
            style="animation-delay: -0.5s"></div>
        <div class="absolute bottom-1/4 left-20 w-2 h-2 bg-tet-gold rounded-full sparkle" style="animation-delay: -1s">
        </div>

        <!-- Main Content -->
        <div class="min-h-full flex flex-col items-center justify-center px-4 py-8 relative z-10">
            <!-- Header Section -->
            <div class="text-center mb-8 md:mb-12">
                <!-- Tagline -->
                <p id="tagline" class="text-tet-cream/80 text-sm md:text-base tracking-widest mb-4 font-light">
                    G·ª≠i trao y√™u th∆∞∆°ng ‚Äì Nh·∫≠n l·ªôc an khang
                </p>
                <!-- Main Heading -->
                <h1 id="main-heading" class="font-heading text-3xl md:text-5xl lg:text-6xl font-bold gold-shimmer mb-2">
                    Ng∆∞·ªùi trao ƒëang g·ª≠i l·ªôc xu√¢n cho..?
                </h1>
                <!-- Decorative line -->
                <div class="flex items-center justify-center gap-3 mt-4">
                    <div class="w-16 md:w-24 h-px bg-gradient-to-r from-transparent via-tet-gold to-transparent"></div>
                    <span class="text-tet-gold text-xl">‚ùÄ</span>
                    <div class="w-16 md:w-24 h-px bg-gradient-to-r from-transparent via-tet-gold to-transparent"></div>
                </div>
            </div>

            <!-- Cards Grid -->
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4 md:gap-6 max-w-5xl mx-auto mb-8 md:mb-12">
                <!-- Card 1: √îng B√† -->
                <button class="card-envelope rounded-2xl p-4 md:p-6 text-center cursor-pointer group"
                    data-recipient="ong-ba">
                    <div class="text-4xl md:text-5xl mb-3 group-hover:scale-110 transition-transform">
                        üë¥üëµ
                    </div>
                    <h3 class="font-heading text-tet-gold font-semibold text-lg md:text-xl mb-1">
                        √îng B√†
                    </h3>
                    <p class="text-tet-cream/70 text-xs md:text-sm font-light">
                        K√≠nh ch√∫c s·ª©c kh·ªèe
                    </p>
                </button>

                <!-- Card 2: B·ªë M·∫π -->
                <button class="card-envelope rounded-2xl p-4 md:p-6 text-center cursor-pointer group"
                    data-recipient="bo-me">
                    <div class="text-4xl md:text-5xl mb-3 group-hover:scale-110 transition-transform">
                        üë®‚Äçüë©‚Äçüëß
                    </div>
                    <h3 class="font-heading text-tet-gold font-semibold text-lg md:text-xl mb-1">
                        B·ªë M·∫π
                    </h3>
                    <p class="text-tet-cream/70 text-xs md:text-sm font-light">
                        Bi·∫øt ∆°n d∆∞·ª°ng d·ª•c
                    </p>
                </button>

                <!-- Card 3: Anh Ch·ªã Em -->
                <button class="card-envelope rounded-2xl p-4 md:p-6 text-center cursor-pointer group"
                    data-recipient="anh-chi-em">
                    <div class="text-4xl md:text-5xl mb-3 group-hover:scale-110 transition-transform">
                        üë´
                    </div>
                    <h3 class="font-heading text-tet-gold font-semibold text-lg md:text-xl mb-1">
                        Anh Ch·ªã Em
                    </h3>
                    <p class="text-tet-cream/70 text-xs md:text-sm font-light">
                        ƒê·ªìng h√†nh b√™n nhau
                    </p>
                </button>

                <!-- Card 4: Con C√°i -->
                <button class="card-envelope rounded-2xl p-4 md:p-6 text-center cursor-pointer group"
                    data-recipient="con-cai">
                    <div class="text-4xl md:text-5xl mb-3 group-hover:scale-110 transition-transform">
                        üë∂
                    </div>
                    <h3 class="font-heading text-tet-gold font-semibold text-lg md:text-xl mb-1">
                        Con C√°i
                    </h3>
                    <p class="text-tet-cream/70 text-xs md:text-sm font-light">
                        Mong con kh√¥n l·ªõn
                    </p>
                </button>

                <!-- Card 5: B·∫°n B√® -->
                <button class="card-envelope rounded-2xl p-4 md:p-6 text-center cursor-pointer group"
                    data-recipient="ban-be">
                    <div class="text-4xl md:text-5xl mb-3 group-hover:scale-110 transition-transform">
                        ü§ù
                    </div>
                    <h3 class="font-heading text-tet-gold font-semibold text-lg md:text-xl mb-1">
                        B·∫°n B√®
                    </h3>
                    <p class="text-tet-cream/70 text-xs md:text-sm font-light">
                        Tri k·ª∑ ƒë·ªìng h√†nh
                    </p>
                </button>

                <!-- Card 6: ƒê·ªìng Nghi·ªáp -->
                <button class="card-envelope rounded-2xl p-4 md:p-6 text-center cursor-pointer group"
                    data-recipient="dong-nghiep">
                    <div class="text-4xl md:text-5xl mb-3 group-hover:scale-110 transition-transform">
                        üíº
                    </div>
                    <h3 class="font-heading text-tet-gold font-semibold text-lg md:text-xl mb-1">
                        ƒê·ªìng Nghi·ªáp
                    </h3>
                    <p class="text-tet-cream/70 text-xs md:text-sm font-light">
                        Th√†nh c√¥ng chung
                    </p>
                </button>

                <!-- Card 7: Th·∫ßy C√¥ -->
                <button class="card-envelope rounded-2xl p-4 md:p-6 text-center cursor-pointer group"
                    data-recipient="thay-co">
                    <div class="text-4xl md:text-5xl mb-3 group-hover:scale-110 transition-transform">
                        üìö
                    </div>
                    <h3 class="font-heading text-tet-gold font-semibold text-lg md:text-xl mb-1">
                        Th·∫ßy C√¥
                    </h3>
                    <p class="text-tet-cream/70 text-xs md:text-sm font-light">
                        ∆†n d·∫°y d·ªó s√¢u
                    </p>
                </button>

                <!-- Card 8: Ng∆∞·ªùi Th∆∞∆°ng -->
                <button class="card-envelope rounded-2xl p-4 md:p-6 text-center cursor-pointer group"
                    data-recipient="nguoi-thuong">
                    <div class="text-4xl md:text-5xl mb-3 group-hover:scale-110 transition-transform">
                        üíï
                    </div>
                    <h3 class="font-heading text-tet-gold font-semibold text-lg md:text-xl mb-1">
                        Ng∆∞·ªùi Th∆∞∆°ng
                    </h3>
                    <p class="text-tet-cream/70 text-xs md:text-sm font-light">
                        Y√™u th∆∞∆°ng tr·ªçn ƒë·ªùi
                    </p>
                </button>
            </div>

            <!-- Selected Recipient Display -->
            <div id="selection-display" class="hidden text-center mb-6 animate-pulse">
                <p class="text-tet-cream text-lg">
                    B·∫°n ƒëang g·ª≠i l·ªôc xu√¢n ƒë·∫øn:
                    <span id="selected-name" class="text-tet-gold font-semibold"></span>
                </p>
            </div>

            <!-- Continue Button -->
            <button id="continue-btn"
                class="hidden bg-gradient-to-r from-tet-gold-dark via-tet-gold to-tet-gold-dark text-tet-red font-semibold px-8 py-3 rounded-full text-lg shadow-lg hover:shadow-tet-gold/50 hover:scale-105 transition-all duration-300 mb-8">
                Chao g·ª≠i y√™u th∆∞∆°ng ‚ú®
            </button>

            <!-- Envelopes Grid (hidden by default) -->
            <div id="envelopes-container" class="hidden max-w-6xl mx-auto w-full px-4">
                <div class="text-center mb-8">
                    <h2 class="font-heading text-2xl md:text-3xl font-bold gold-shimmer mb-4">
                        24 Bao L√¨ X√¨ Y√™u Th∆∞∆°ng
                    </h2>
                    <p class="text-tet-cream/70 text-sm md:text-base">
                        Ch·ªçn m·ªôt bao l√¨ x√¨ ƒë·ªÉ g·ª≠i trao y√™u th∆∞∆°ng
                    </p>
                </div>

                <div id="envelopes-grid"
                    class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4 md:gap-5 mb-12">
                    <!-- 24 envelopes will be generated here -->
                </div>

                <div class="text-center">
                    <button id="back-btn"
                        class="bg-tet-red-light text-tet-cream font-medium px-6 py-2 rounded-full hover:bg-tet-red transition-all duration-300">
                        ‚Üê Quay l·∫°i ch·ªçn m·ª•c ng∆∞·ªùi nh·∫≠n
                    </button>
                </div>
            </div>

            <!-- Footer -->
            <footer class="text-center">

                <button id="launchBtn" title="B·∫Øn ph√°o hoa">üéÜ</button>
                <canvas id="fireworksCanvas"></canvas>

                <p id="footer-text" class="font-heading text-tet-gold text-xl md:text-2xl mb-2">
                    L·ªôc Xu√¢n 2026
                </p>
                <p class="text-tet-cream/60 text-xs md:text-sm font-light tracking-wide">
                    Trao g·ª≠i y√™u th∆∞∆°ng ‚Ä¢ ƒê√≥n nh·∫≠n an khang
                </p>
                <div class="flex items-center justify-center gap-2 mt-3 text-tet-gold/90">
                    <span>üßß</span>
                    <span class="text-xs">Ch√∫c M·ª´ng NƒÉm M·ªõi</span>
                    <span>üßß</span>
                </div>
            </footer>
        </div>
    </div>

    <!-- Modal T√¢m Th∆∞ & L·ªôc Xu√¢n -->
    <div id="heart-letter-modal" class="hidden fixed inset-0 z-50 flex items-center justify-center p-4">
        <div class="absolute inset-0 bg-black/70"></div>
        <div class="relative bg-gradient-to-br from-red-50 to-amber-50 w-full max-w-4xl rounded-xl shadow-xl overflow-hidden border-2 border-tet-gold">
            
            <!-- ===== THI·ªÜP B√äN NGO√ÄI (COVER) M·ªöI ===== -->
            <div id="card-cover" class="absolute inset-0 z-20 flex items-center justify-center" style="background: radial-gradient(ellipse at top, #8b0000 0%, #5c0000 50%, #3d0000 100%);">
                <div class="relative z-10 max-w-4xl w-full">
                    <div class="relative bg-gradient-to-b from-red-900/90 to-red-950/95 rounded-3xl p-1 shadow-2xl outer-card-shadow">
                        <div class="relative rounded-2xl p-6 md:p-8 inner-card-frame">
                            <svg class="decorative-corner corner-tl" viewbox="0 0 80 80">
                                <path d="M5 40 Q5 5 40 5" fill="none" stroke="#FFD700" stroke-width="2" />
                                <path d="M10 35 Q10 10 35 10" fill="none" stroke="#FFD700" stroke-width="1.5" opacity="0.7" />
                                <circle cx="8" cy="8" r="3" fill="#FFD700" />
                                <path d="M15 5 L15 25 M5 15 L25 15" stroke="#FFD700" stroke-width="1" opacity="0.5" />
                            </svg>
                            <svg class="decorative-corner corner-tr" viewbox="0 0 80 80">
                                <path d="M5 40 Q5 5 40 5" fill="none" stroke="#FFD700" stroke-width="2" />
                                <path d="M10 35 Q10 10 35 10" fill="none" stroke="#FFD700" stroke-width="1.5" opacity="0.7" />
                                <circle cx="8" cy="8" r="3" fill="#FFD700" />
                                <path d="M15 5 L15 25 M5 15 L25 15" stroke="#FFD700" stroke-width="1" opacity="0.5" />
                            </svg>
                            <svg class="decorative-corner corner-bl" viewbox="0 0 80 80">
                                <path d="M5 40 Q5 5 40 5" fill="none" stroke="#FFD700" stroke-width="2" />
                                <path d="M10 35 Q10 10 35 10" fill="none" stroke="#FFD700" stroke-width="1.5" opacity="0.7" />
                                <circle cx="8" cy="8" r="3" fill="#FFD700" />
                                <path d="M15 5 L15 25 M5 15 L25 15" stroke="#FFD700" stroke-width="1" opacity="0.5" />
                            </svg>
                            <svg class="decorative-corner corner-br" viewbox="0 0 80 80">
                                <path d="M5 40 Q5 5 40 5" fill="none" stroke="#FFD700" stroke-width="2" />
                                <path d="M10 35 Q10 10 35 10" fill="none" stroke="#FFD700" stroke-width="1.5" opacity="0.7" />
                                <circle cx="8" cy="8" r="3" fill="#FFD700" />
                                <path d="M15 5 L15 25 M5 15 L25 15" stroke="#FFD700" stroke-width="1" opacity="0.5" />
                            </svg>

                            <div class="text-center relative z-10 py-4">

                                <div class="inline-block mb-4">
                                    <div class="relative">
                                        <div class="absolute inset-0 bg-gradient-to-r from-yellow-600 to-yellow-400 blur-lg opacity-50 rounded-full"></div>
                                        <div class="relative bg-gradient-to-br from-yellow-500 via-yellow-400 to-yellow-600 text-red-900 font-bold text-lg px-6 py-2 rounded-full shadow-lg text-shadow-gold">
                                            üê¥ NƒÇM B√çNH NG·ªå 2026 üê¥
                                        </div>
                                    </div>
                                </div>

                                <h1 id="main-title" class="font-heading text-3xl md:text-4xl font-bold mb-3 shimmer-text leading-tight">
                                    CH√öC M·ª™NG NƒÇM M·ªöI
                                </h1>

                                <div class="flex items-center justify-center gap-3 my-4">
                                    <div class="h-px w-16 bg-gradient-to-r from-transparent to-yellow-500"></div>
                                    <span class="text-yellow-400 text-2xl">‚ùß</span>
                                    <div class="h-px w-16 bg-gradient-to-l from-transparent to-yellow-500"></div>
                                </div>

                                <p id="subtitle" class="font-dancing text-2xl md:text-3xl text-yellow-200 mb-6 text-shadow-dark">
                                    An Khang Th·ªãnh V∆∞·ª£ng
                                </p>

                                <p class="text-yellow-100/90 text-sm md:text-base mb-6 px-4 leading-relaxed">
                                    K√≠nh ch√∫c qu√Ω v·ªã m·ªôt nƒÉm m·ªõi<br />
                                    <span class="text-yellow-300 font-semibold">V·∫°n S·ª± Nh∆∞ √ù ‚Ä¢ T√†i L·ªôc ƒê·∫ßy Nh√†</span>
                                </p>

                                <button id="open-card-btn" class="relative group pulse-glow rounded-full overflow-hidden">
                                    <div class="absolute inset-0 bg-gradient-to-r from-yellow-400 via-yellow-500 to-yellow-400 opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
                                    <div class="relative bg-gradient-to-r from-yellow-500 via-yellow-400 to-yellow-500 text-red-900 font-bold px-10 py-2 rounded-full transition-all duration-300 group-hover:scale-105 text-shadow-gold">
                                        <span class="flex items-center gap-2">
                                            <span>‚úâÔ∏è</span> <span>M·ªû THI·ªÜP</span> <span>‚úâÔ∏è</span>
                                        </span>
                                    </div>
                                </button>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- ===== END COVER M·ªöI ===== -->

            <!-- N·ªôi dung t√¢m th∆∞ -->
            <!-- Header -->
            <div class="bg-gradient-to-r from-tet-red to-tet-red-light py-4 px-6 text-center">
                <h2 class="font-heading text-3xl font-bold text-tet-gold">T√ÇM TH∆Ø & L·ªòC XU√ÇN</h2>
                <p class="text-tet-cream/90 text-sm mt-1">Xu√¢n ·∫§t T·ªµ 2025 - An Khang Th·ªãnh V∆∞·ª£ng</p>
            </div>
            
            <!-- Content -->
            <div class="p-6 md:p-8">
                <!-- L·ªùi ch√∫c -->
                <div class="text-center mb-3  border-b-2 pb-6  border-tet-gold/30">
                    <h3 class="font-heading text-2xl font-bold text-tet-red mb-3">Ch√∫c M·ª´ng NƒÉm M·ªõi!</h3>
                    <p class="text-gray-700 text-lg leading-relaxed">
                        Ch√∫c b·∫°n m·ªôt nƒÉm m·ªõi tr√†n ƒë·∫ßy s·ª©c kh·ªèe, h·∫°nh ph√∫c v√† th√†nh c√¥ng. 
                        Mong r·∫±ng nh·ªØng ƒëi·ªÅu t·ªët ƒë·∫πp nh·∫•t s·∫Ω ƒë·∫øn v·ªõi b·∫°n v√† gia ƒë√¨nh.
                    </p>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <!-- Ph·∫ßn c√†o l·ªôc xu√¢n -->
                    <div class="">
                        <div class="rounded-lg p-2">
                        <p class="text-sm text-gray-600 italic mb-1">Ch√∫c m·ª´ng nƒÉm m·ªõi ·∫§t T·ªµ 2025</p>
                        <div id="scratch-area" class="bg-gradient-to-r from-gray-200 to-gray-300 h-16 rounded-lg relative overflow-hidden flex items-center justify-center">
                            <!-- N·ªôi dung b√™n d∆∞·ªõi - s·ªë ti·ªÅn -->
                            <div id="lucky-amount" class="absolute inset-0 flex items-center justify-center text-xl md:text-2xl font-bold text-tet-red">
                                <span id="money-display"></span>
                            </div>
                            <!-- Canvas c√†o -->
                            <canvas id="scratch-canvas"></canvas>
                        </div>
                    </div>
                    </div>
                    
                    <!-- Ng∆∞·ªùi g·ª≠i -->
                    <div class="text-end">
                        <p class="text-sm text-gray-600 italic mb-1">Ng∆∞·ªùi g·ª≠i</p>
                        <p class="font-dancing text-3xl font-bold text-tet-red mb-1">ƒê√†m ƒê√¨nh ƒê√†o</p>
                    </div>
                </div>
                
                <!-- N√∫t ƒë√≥ng -->
                <div class="text-center mt-5">
                    <button id="close-modal" class="bg-tet-red text-tet-cream font-semibold px-8 py-3 rounded-full hover:bg-tet-red-light transition-all duration-300">
                        Tr√¢n Tr·ªçng C·∫£m ∆†n
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        const defaultConfig = {
            tagline: "G·ª≠i trao y√™u th∆∞∆°ng ‚Äì Nh·∫≠n l·ªôc an khang",
            main_heading: "Ng∆∞·ªùi trao ƒëang g·ª≠i l·ªôc xu√¢n cho..?",
            footer_text: "L·ªôc Xu√¢n 2026",
            background_color: "#1a0a0a",
            card_color: "#8B0000",
            text_color: "#FFF8DC",
            gold_color: "#FFD700",
            accent_color: "#B22222",
        };

        // ===== DEBUG MODE =====
        const DEBUG_MODE = true; // ƒê·ªïi th√†nh false khi deploy production
        // ======================

        let selectedRecipient = null;
        let isModalOpen = false; 

        // Card selection logic
        document.querySelectorAll(".card-envelope").forEach((card) => {
            card.addEventListener("click", function () {
                // Remove selection from all cards
                document.querySelectorAll(".card-envelope").forEach((c) => {
                    c.classList.remove("selected-card");
                });

                // Add selection to clicked card
                this.classList.add("selected-card");
                selectedRecipient = this.dataset.recipient;

                // Show selection display
                const selectionDisplay = document.getElementById("selection-display");
                const selectedName = document.getElementById("selected-name");
                const continueBtn = document.getElementById("continue-btn");

                const recipientNames = {
                    "ong-ba": "√îng B√†",
                    "bo-me": "B·ªë M·∫π",
                    "anh-chi-em": "Anh Ch·ªã Em",
                    "con-cai": "Con C√°i",
                    "ban-be": "B·∫°n B√®",
                    "dong-nghiep": "ƒê·ªìng Nghi·ªáp",
                    "thay-co": "Th·∫ßy C√¥",
                    "nguoi-thuong": "Ng∆∞·ªùi Th∆∞∆°ng",
                };

                selectedName.textContent = recipientNames[selectedRecipient];
                selectionDisplay.classList.remove("hidden");
                continueBtn.classList.remove("hidden");
            });
        });

        // Continue button click - Show 24 envelopes
        document
            .getElementById("continue-btn")
            .addEventListener("click", function () {
                const envelopesGrid = document.getElementById("envelopes-grid");
                envelopesGrid.innerHTML = "";

                if (selectedRecipient) {
                    // Hide main content
                    document.querySelector(".grid.grid-cols-2").classList.add("hidden");
                    document
                        .getElementById("selection-display")
                        .classList.add("hidden");
                    this.classList.add("hidden");

                    // Show envelopes container
                    const envelopesContainer = document.getElementById(
                        "envelopes-container",
                    );
                    envelopesContainer.classList.remove("hidden");

                    // Generate 24 envelopes
                    const envelopesGrid = document.getElementById("envelopes-grid");
                    envelopesGrid.innerHTML = "";

                    // Hi·ªÉn th·ªã 24 bao l√¨ x√¨ m·ªõi
                    for (let i = 1; i <= 24; i++) {
                        envelopesGrid.appendChild(createEnvelope(i));
                    }
                }
            });

        // Back button - Return to main selection
        document
            .getElementById("back-btn")
            .addEventListener("click", function () {
                // Hide envelopes container
                document
                    .getElementById("envelopes-container")
                    .classList.add("hidden");

                // Show main content
                document
                    .querySelector(".grid.grid-cols-2")
                    .classList.remove("hidden");
                document
                    .getElementById("selection-display")
                    .classList.remove("hidden");
                document.getElementById("continue-btn").classList.remove("hidden");
            });

        // =========== PH·∫¶N T·∫†O BAO L√å X√å M·ªöI ===========
        const luckyMessages = [
            "Ph√°t T√†i Ph√°t L·ªôc",
            "V·∫°n S·ª± Nh∆∞ √ù",
            "An Khang Th·ªãnh V∆∞·ª£ng",
            "T√†i L·ªôc D·ªìi D√†o",
            "S·ª©c Kh·ªèe D·ªìi D√†o",
            "H·∫°nh Ph√∫c Vi√™n M√£n",
            "C√¥ng Th√†nh Danh To·∫°i",
            "M√£ ƒê√°o Th√†nh C√¥ng",
            "Kim Ng·ªçc M√£n ƒê∆∞·ªùng",
            "Ph√∫c L·ªôc Song To√†n",
            "Thu·∫≠n Bu·ªìm Xu√¥i Gi√≥",
            "B√¨nh An H·∫°nh Ph√∫c",
        ];

        const luckySymbols = ["Á¶è", "Á¶Ñ", "ÂØø", "Âñú", "Ë≤°", "Âêâ", "Á••", "Áôº"];

        // Bi·∫øn global ƒë·ªÉ qu·∫£n l√Ω timeout cho t·∫•t c·∫£ envelopes
        let globalClickTimeout = null;
        let lastClickedEnvelope = null;

        function createEnvelope(number) {
            const envelope = document.createElement("div");
            envelope.className = "envelope-item";

            const luckyMessage = luckyMessages[(number - 1) % luckyMessages.length];
            const luckySymbol = luckySymbols[(number - 1) % luckySymbols.length];

            // X√°c ƒë·ªãnh lo·∫°i l√¨ x√¨ d·ª±a tr√™n s·ªë th·ª© t·ª±
            const envelopeTypes = [
                "", // M√†u ƒë·ªè truy·ªÅn th·ªëng
                "envelope-blue", // Xanh d∆∞∆°ng
                "envelope-gold-light", // Xanh l√°
                "envelope-purple", // T√≠m
                "envelope-gold", // V√†ng ƒë·∫≠m
                "",
                // t·ª´ng row
                "envelope-blue",
                "envelope-gold-light",
                "envelope-purple",
                "envelope-gold",
                "",
                "envelope-blue",
                "envelope-gold-light",
                "envelope-purple",
                "envelope-gold",
                "",
                "envelope-blue",
                "envelope-gold-light",
                "envelope-purple",
                "envelope-gold",
                "",
                "envelope-blue",
                "envelope-gold-light",
                "envelope-purple",
            ];

            const envelopeType = envelopeTypes[(number - 1) % envelopeTypes.length];

            // X√°c ƒë·ªãnh lo·∫°i seal
            let sealClass = "gold-seal";
            if (number % 3 === 0) {
                sealClass = "gold-seal silver-seal";
            } else if (number % 5 === 0) {
                sealClass = "gold-seal bronze-seal";
            }

            envelope.innerHTML = `
                <div class="envelope-body">
                    <div class="pattern-overlay"></div>
                    <div class="shimmer"></div>
                    
                    <!-- Corner Decorations -->
                    <div class="corner-decor top-left"></div>
                    <div class="corner-decor top-right"></div>
                    <div class="corner-decor bottom-left"></div>
                    <div class="corner-decor bottom-right"></div>
                    
                    <!-- Flower Decorations -->
                    <div class="flower-decor flower-top-left">üå∏</div>
                    <div class="flower-decor flower-top-right">üå∏</div>
                    <div class="flower-decor flower-bottom-left">üå∏</div>
                    <div class="flower-decor flower-bottom-right">üå∏</div>
                    
                    <!-- Ornamental Bands -->
                    <div class="ornament-pattern ornament-top"></div>
                    <div class="ornament-pattern ornament-bottom"></div>
                    
                    <!-- Wave Patterns -->
                    <div class="wave-pattern wave-top"></div>
                    <div class="wave-pattern wave-bottom"></div>
                    
                    <!-- Diamond Patterns -->
                    <div class="diamond-pattern diamond-1"></div>
                    <div class="diamond-pattern diamond-2"></div>
                    <div class="diamond-pattern diamond-3"></div>
                    <div class="diamond-pattern diamond-4"></div>
                    
                    <!-- Lantern Decorations -->
                    <div class="lantern-decor lantern-left">üèÆ</div>
                    <div class="lantern-decor lantern-right">üèÆ</div>
                    
                    <!-- Gold Dots -->
                    <div class="gold-dots" style="top: 28%; left: 25%;"></div>
                    <div class="gold-dots" style="top: 28%; right: 25%;"></div>
                    <div class="gold-dots" style="top: 40%; left: 20%;"></div>
                    <div class="gold-dots" style="top: 40%; right: 20%;"></div>
                    <div class="gold-dots" style="bottom: 28%; left: 25%;"></div>
                    <div class="gold-dots" style="bottom: 28%; right: 25%;"></div>
                    <div class="gold-dots" style="bottom: 40%; left: 20%;"></div>
                    <div class="gold-dots" style="bottom: 40%; right: 20%;"></div>
                    
                    <!-- Cloud Patterns -->
                    <div class="cloud-pattern cloud-1"></div>
                    <div class="cloud-pattern cloud-2"></div>
                    
                    <!-- Lucky Knot -->
                    <div class="lucky-knot"></div>
                    
                    <!-- Top Flap -->
                    <div class="envelope-flap"></div>
                    
                    <!-- Gold Seal -->
                    <div class="${sealClass}">
                        <span class="seal-text">${luckySymbol}</span>
                    </div>
                    
                    <!-- Lucky Message -->
                    <div class="lucky-message">${luckyMessage}</div>
                    
                    <!-- Number Badge -->
                    <div class="envelope-number">L√¨ X√¨ #${number}</div>
                </div>
            `;

            // Th√™m l·ªõp m√†u cho envelope
            if (envelopeType) {
                envelope.classList.add(envelopeType);
            }



            envelope.addEventListener("click", function () {
                // H·ªßy timeout tr∆∞·ªõc ƒë√≥ n·∫øu c√≥
                if (globalClickTimeout) {
                    clearTimeout(globalClickTimeout);
                }
                
                // X√≥a hi·ªáu ·ª©ng clicked c·ªßa envelope tr∆∞·ªõc ƒë√≥
                if (lastClickedEnvelope && lastClickedEnvelope !== this) {
                    lastClickedEnvelope.classList.remove("clicked");
                }
                
                // Th√™m hi·ªáu ·ª©ng clicked cho envelope hi·ªán t·∫°i
                this.classList.add("clicked");
                lastClickedEnvelope = this;
                
                // L∆∞u reference
                const currentEnvelope = this;
                const currentNumber = number;
                
                // ƒê·∫∑t timeout m·ªõi
                globalClickTimeout = setTimeout(() => {
                    currentEnvelope.classList.remove("clicked");
                    
                    // Ch·ªâ hi·ªán confirm cho l·∫ßn click cu·ªëi c√πng
                    // if (confirm("B·∫°n ƒë√£ ch·∫Øc ch·∫Øn mu·ªën nh·∫≠n bao l√¨ x√¨ #" + currentNumber + " n√†y ch·ª©?")) {
                        console.log("ƒê√£ ch·ªçn l√¨ x√¨ #" + currentNumber);
                        
                        // M·ªü modal T√¢m Th∆∞ & L·ªôc Xu√¢n
                        openHeartLetterModal(currentNumber);
                    // }
                    
                    globalClickTimeout = null;
                    lastClickedEnvelope = null;
                }, 500);
            });

            return envelope;
        }
        // =========== END PH·∫¶N T·∫†O BAO L√å X√å M·ªöI ===========

        // H√†m m·ªü modal T√¢m Th∆∞ & L·ªôc Xu√¢n
        function openHeartLetterModal(envelopeNumber) {

            const cover = document.getElementById('card-cover');
            cover.style.display = 'flex';
            cover.style.opacity = '1';

            const modal = document.getElementById('heart-letter-modal');
            
            // Hi·ªÉn th·ªã modal
            modal.classList.remove('hidden');
            
            // Kh·ªüi t·∫°o canvas c√†o l√¨ x√¨
            initScratchCard();
        }

        // H√†m kh·ªüi t·∫°o canvas c√†o l√¨ x√¨
        function initScratchCard() {
            const canvas = document.getElementById('scratch-canvas');
            const ctx = canvas.getContext('2d');
            const scratchArea = document.getElementById('scratch-area');
            const moneyDisplay = document.getElementById('money-display');
            
            // Random m·ªánh gi√°
            const amounts = ['10.000', '20.000', '30.000', '40.000', '50.000', '100.000'];
            const randomAmount = amounts[Math.floor(Math.random() * amounts.length)];
            moneyDisplay.textContent = `üéâ ${randomAmount} VND üéâ`;
            
            // Thi·∫øt l·∫≠p k√≠ch th∆∞·ªõc canvas
            canvas.width = scratchArea.offsetWidth;
            canvas.height = scratchArea.offsetHeight;
            
            // V·∫Ω l·ªõp ph·ªß v√†ng
            const gradient = ctx.createLinearGradient(0, 0, canvas.width, 0);
            gradient.addColorStop(0, '#DAA520');
            gradient.addColorStop(0.5, '#FFD700');
            gradient.addColorStop(1, '#DAA520');
            ctx.fillStyle = gradient;
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            // Th√™m text "C√ÄO ƒê·ªÇ XEM L·ªòC XU√ÇN"
            ctx.fillStyle = '#8B0000';
            ctx.font = 'bold 14px "Be Vietnam Pro", sans-serif';
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';
            ctx.fillText('C√ÄO ƒê·ªÇ XEM L·ªòC XU√ÇN', canvas.width / 2, canvas.height / 2);
            
            let isScratching = false;
            let lastX = 0;
            let lastY = 0;
            
            // H√†m c√†o
            function scratch(x, y) {
                ctx.globalCompositeOperation = 'destination-out';
                ctx.beginPath();
                ctx.arc(x, y, 20, 0, Math.PI * 2);
                ctx.fill();
                
                // V·∫Ω ƒë∆∞·ªùng n·ªëi gi·ªØa c√°c ƒëi·ªÉm
                if (lastX && lastY) {
                    ctx.beginPath();
                    ctx.moveTo(lastX, lastY);
                    ctx.lineTo(x, y);
                    ctx.lineWidth = 40;
                    ctx.lineCap = 'round';
                    ctx.stroke();
                }
                
                lastX = x;
                lastY = y;

            }
        
            // L·∫•y v·ªã tr√≠ chu·ªôt/touch
            function getPosition(e) {
                const rect = canvas.getBoundingClientRect();
                const x = (e.clientX || e.touches[0].clientX) - rect.left;
                const y = (e.clientY || e.touches[0].clientY) - rect.top;
                return { x, y };
            }
            
            // S·ª± ki·ªán chu·ªôt
            canvas.addEventListener('mousedown', (e) => {
                isScratching = true;
                const pos = getPosition(e);
                scratch(pos.x, pos.y);
            });
            
            canvas.addEventListener('mousemove', (e) => {
                if (isScratching) {
                    const pos = getPosition(e);
                    scratch(pos.x, pos.y);
                }
            });
            
            canvas.addEventListener('mouseup', () => {
                isScratching = false;
                lastX = 0;
                lastY = 0;
            });
            
            canvas.addEventListener('mouseleave', () => {
                isScratching = false;
                lastX = 0;
                lastY = 0;
            });
            
            // S·ª± ki·ªán touch (mobile)
            canvas.addEventListener('touchstart', (e) => {
                e.preventDefault();
                isScratching = true;
                const pos = getPosition(e);
                scratch(pos.x, pos.y);
            });
            
            canvas.addEventListener('touchmove', (e) => {
                e.preventDefault();
                if (isScratching) {
                    const pos = getPosition(e);
                    scratch(pos.x, pos.y);
                }
            });
            
            canvas.addEventListener('touchend', () => {
                isScratching = false;
                lastX = 0;
                lastY = 0;
            });
        }

        // X·ª≠ l√Ω ƒë√≥ng modal - ƒê·∫∂T NGO√ÄI H√ÄM openHeartLetterModal
        document.getElementById('close-modal').addEventListener('click', function() {
            document.getElementById('heart-letter-modal').classList.add('hidden');
        });

        // ===== M·ªû THI·ªÜP ‚Üí ·∫®N COVER =====
        document.getElementById('open-card-btn').addEventListener('click', function () {
            const cover = document.getElementById('card-cover');

            cover.style.opacity = '0';
            cover.style.transition = 'opacity 0.6s ease';

            setTimeout(() => {
                cover.style.display = 'none';
            }, 600);
        });


        // ƒê√≥ng modal khi click overlay
        document.getElementById('heart-letter-modal').addEventListener('click', function(e) {
            if (e.target === this) {
                this.classList.add('hidden');
            }
        });
        // end H√†m m·ªü modal T√¢m Th∆∞ & L·ªôc Xu√¢n

        // =========== AUTO SHOW 24 ENVELOPES FOR TESTING ===========
        if (DEBUG_MODE) {
            window.addEventListener('DOMContentLoaded', function() {
                // ·∫®n ph·∫ßn ch·ªçn ng∆∞·ªùi nh·∫≠n
                document.querySelector(".grid.grid-cols-2").classList.add("hidden");
                document.getElementById("selection-display").classList.add("hidden");
                document.getElementById("continue-btn").classList.add("hidden");
                
                // Hi·ªÉn th·ªã container 24 bao l√¨ x√¨
                const envelopesContainer = document.getElementById("envelopes-container");
                envelopesContainer.classList.remove("hidden");
                
                // T·∫°o 24 bao l√¨ x√¨
                const envelopesGrid = document.getElementById("envelopes-grid");
                envelopesGrid.innerHTML = "";
                
                for (let i = 1; i <= 24; i++) {
                    envelopesGrid.appendChild(createEnvelope(i));
                }
                
                // Set selectedRecipient ƒë·ªÉ n√∫t Back v·∫´n ho·∫°t ƒë·ªông
                selectedRecipient = "test-mode";
            });
        }
        // =========== END AUTO SHOW ===========


        // Element SDK initialization
        if (window.elementSdk) {
            window.elementSdk.init({
                defaultConfig,
                onConfigChange: async (config) => {
                    document.getElementById("tagline").textContent =
                        config.tagline || defaultConfig.tagline;
                    document.getElementById("main-heading").textContent =
                        config.main_heading || defaultConfig.main_heading;
                    document.getElementById("footer-text").textContent =
                        config.footer_text || defaultConfig.footer_text;
                },
                mapToCapabilities: (config) => ({
                    recolorables: [
                        {
                            get: () =>
                                config.background_color || defaultConfig.background_color,
                            set: (value) => {
                                config.background_color = value;
                                window.elementSdk.setConfig({ background_color: value });
                            },
                        },
                        {
                            get: () => config.card_color || defaultConfig.card_color,
                            set: (value) => {
                                config.card_color = value;
                                window.elementSdk.setConfig({ card_color: value });
                            },
                        },
                        {
                            get: () => config.text_color || defaultConfig.text_color,
                            set: (value) => {
                                config.text_color = value;
                                window.elementSdk.setConfig({ text_color: value });
                            },
                        },
                        {
                            get: () => config.gold_color || defaultConfig.gold_color,
                            set: (value) => {
                                config.gold_color = value;
                                window.elementSdk.setConfig({ gold_color: value });
                            },
                        },
                        {
                            get: () => config.accent_color || defaultConfig.accent_color,
                            set: (value) => {
                                config.accent_color = value;
                                window.elementSdk.setConfig({ accent_color: value });
                            },
                        },
                    ],
                    borderables: [],
                    fontEditable: undefined,
                    fontSizeable: undefined,
                }),
                mapToEditPanelValues: (config) =>
                    new Map([
                        ["tagline", config.tagline || defaultConfig.tagline],
                        [
                            "main_heading",
                            config.main_heading || defaultConfig.main_heading,
                        ],
                        ["footer_text", config.footer_text || defaultConfig.footer_text],
                    ]),
            });
        }
    </script>

    <!-- Ph√°o hoa -->
    <script>
        const canvas = document.getElementById("fireworksCanvas");
        const ctx = canvas.getContext("2d");
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        const colors = ["#4285F4", "#EA4335", "#FBBC05", "#34A853"];
        let particles = [];
        let currentRockets = 0;
        const MAX_ROCKETS = 10;

        class Particle {
            constructor(x, y, color, isRocket = false, targetY = 0) {
                this.x = x;
                this.y = y;
                this.color = color;
                this.isRocket = isRocket;
                this.targetY = targetY;
                this.alpha = 1;

                if (this.isRocket) {
                    this.velocity = {
                        x: (Math.random() - 0.5) * 10,
                        y: -10 - Math.random() * 4,
                    };
                    this.friction = 1;
                    this.gravity = 0.1;
                } else {
                    const angle = Math.random() * Math.PI * 2;
                    const speed = Math.random() * 8 + 2;
                    this.velocity = {
                        x: Math.cos(angle) * speed,
                        y: Math.sin(angle) * speed,
                    };
                    this.friction = 0.95;
                    this.gravity = 0.15;
                }
            }

            draw() {
                ctx.save();
                ctx.globalAlpha = this.alpha;
                ctx.strokeStyle = this.color;
                ctx.lineWidth = this.isRocket ? 3 : 2;
                ctx.lineCap = "round";
                ctx.beginPath();
                ctx.moveTo(this.x, this.y);
                ctx.lineTo(
                    this.x - this.velocity.x * 2,
                    this.y - this.velocity.y * 2,
                );
                ctx.stroke();
                ctx.restore();
            }

            update() {
                this.velocity.x *= this.friction;
                this.velocity.y *= this.friction;
                this.velocity.y += this.gravity;
                this.x += this.velocity.x;
                this.y += this.velocity.y;

                if (this.isRocket) {
                    if (this.y <= this.targetY || this.velocity.y >= 0) {
                        this.alpha = 0;
                        explode(this.x, this.y, this.color);
                    }
                } else {
                    this.alpha -= 0.015;
                }
            }
        }

        function explode(x, y, color) {
            for (let i = 0; i < 50; i++) {
                particles.push(new Particle(x, y, color));
            }
        }

        // CH·ªà GI·ªÆ L·∫†I M·ªòT H√ÄM LAUNCH DUY NH·∫§T
        function launch() {
            if (currentRockets >= MAX_ROCKETS) return;

            currentRockets++;
            
            const launchPoints = [canvas.width * 0.2, canvas.width * 0.5, canvas.width * 0.8];
            const baseLineX = launchPoints[Math.floor(Math.random() * launchPoints.length)];
            const x = baseLineX + (Math.random() - 0.5) * 50; 
            const targetY = Math.random() * (canvas.height * 0.4);
            const color = colors[Math.floor(Math.random() * colors.length)];
            
            const rocket = new Particle(x, canvas.height, color, true, targetY);
            
            // X·ª≠ l√Ω gi·∫£m bi·∫øn ƒë·∫øm khi ph√°o n·ªï
            const originalUpdate = rocket.update;
            rocket.update = function() {
                const wasAlive = this.alpha > 0;
                originalUpdate.call(this);
                if (wasAlive && this.alpha <= 0) {
                    currentRockets--;
                }
            };

            particles.push(rocket);
        }

        function animate() {
            // 1. Thay v√¨ d√πng m√†u tr·∫Øng ƒë√® l√™n, ta d√πng ch·∫ø ƒë·ªô 'destination-out'
            // N√≥ s·∫Ω l√†m m·ªù d·∫ßn c√°c h·∫°t c≈© tr·ª±c ti·∫øp v√†o s·ª± TRONG SU·ªêT
            ctx.globalCompositeOperation = 'destination-out';
            ctx.fillStyle = "rgba(0, 0, 0, 0.15)"; // Con s·ªë 0.15 gi·ªØ nguy√™n ƒë·ªô d√†i ƒëu√¥i
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            // 2. Tr·∫£ v·ªÅ ch·∫ø ƒë·ªô v·∫Ω b√¨nh th∆∞·ªùng ƒë·ªÉ v·∫Ω h·∫°t m·ªõi
            ctx.globalCompositeOperation = 'source-over';

            if (particles.length > 0) {
                for (let i = particles.length - 1; i >= 0; i--) {
                    const p = particles[i];
                    p.update();
                    p.draw();
                    if (p.alpha <= 0) {
                        particles.splice(i, 1);
                    }
                }
            } else {
                // 3. Khi kh√¥ng c√≤n h·∫°t n√†o, x√≥a s·∫°ch ho√†n to√†n ƒë·ªÉ trang web s·∫°ch b√≥ng
                ctx.clearRect(0, 0, canvas.width, canvas.height);
            }

            requestAnimationFrame(animate);
        }

        document.getElementById("launchBtn").addEventListener("click", () => {
            let cumulativeDelay = 0;
            for (let i = 0; i < 30; i++) {
                let currentDelay = (i < 3) ? 250 : (i < 10) ? 150 : 50;
                cumulativeDelay += currentDelay;
                setTimeout(launch, cumulativeDelay);
            }
        });

        animate();
    </script>
</body>

</html>